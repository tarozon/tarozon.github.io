<!DOCTYPE html>
<html lang="ko">
<head>
  <!-- PWA / iOS 지원 메타태그 -->
  <link rel="manifest" href="/manifest.json" />
  <meta name="theme-color" content="#ff77aa" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="apple-mobile-web-app-title" content="TAROZON" />
  <link rel="apple-touch-icon" href="/icons/icon-192.png" />

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="무료 타로점, 타로카드 해석까지 알아보는 타로 리딩 사이트. 타로갤러리에서 언급되는 질문도 함께 탐색해요.">
  <meta property="og:title" content="타로존 - 무료 타로 리딩 사이트" />
  <meta property="og:description" content="타로카드 리딩, 해석, 질문지 생성까지 한번에! 실물 리딩 서비스도 곧 오픈 예정입니다." />
  <meta property="og:image" content="https://tarozon.com/preview.jpg" />
  <meta property="og:url" content="https://tarozon.com/" />
  <meta property="og:type" content="website" />
  <title>Tarozon 메인 페이지</title>
  <link rel="stylesheet" href="/style.css">
  <link rel="stylesheet" href="/mobile.css" media="only screen and (max-width: 768px)">
  <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
  <a href="/" class="home-button">🏠 홈</a>
  <a href="contact.html" class="reading-button">🌟 리딩 요청</a>

  <h1 class="main-title">🔮 TAROZON</h1>
  <p class="main-subtitle">질문을 미리 정하고, 신중하게 DRAW를 눌러주세요</p>

  <div style="text-align: center; margin-top: 24px;">
    <button id="installBtn" style="display: none;">📲 TAROZON 설치하기</button>
  </div>

  <ul class="main-menu">
    <li><a class="main-button" href="4CARDS-T3S1.html"><span class="icon">🂡🂢🂣🂤</span> 4카드 통합3 보조1</a></li>
    <li><a class="main-button" href="3CARDS-BASIC.html"><span class="icon">🂡🂢🂣</span> 3카드 과거 현재 미래</a></li>
    <li><a class="main-button" href="3CARDS-LOVE1.html"><span class="icon">💞</span> 3카드 나와 너의 관계</a></li>
    <li><a class="main-button" href="3CARDS-LOVE2.html"><span class="icon">💓</span> 3카드 너의 마음은</a></li>
    <li><a class="main-button" href="HORSESHOE.html"><span class="icon">🧲</span> 5카드 말발굽 배열</a></li>
    <li><a class="main-button" href="RELATION7.html"><span class="icon">🔗</span> 7카드 관계카드</a></li>
    <li><a class="main-button" href="CELTIC-CROSS.html"><span class="icon">✝</span> 10카드 켈틱 크로스</a></li>
  </ul>

  <div class="social-links">
  <a href="https://youtube.com/@tarozon_official" target="_blank">
    <img src="/icons/youtube.png" alt="유튜브 채널"> 유튜브 채널
  </a>
  <a href="https://pf.kakao.com/_NgxjJn" target="_blank">
    <img src="/icons/kakao.png" alt="카카오채널"> 카카오채널
  </a>
  <a href="https://pf.kakao.com/_NgxjJn/chat" target="_blank">
    <img src="/icons/chat.png" alt="1:1 채팅"> 1:1 채팅
  </a>
  </div>


  <section class="main-info">
    <h2>📝 안내 사항</h2>
    <ul>
      <li>PC버전 추천, 모바일 이용 가능</li>
      <li>모바일 이용 시 가로 회전 가능</li>
      <li>카드 수동 임의 선택 가능</li>
    </ul>

    <h2>⚙️ 기능 안내</h2>
    <ul>
      <li><b>DRAW:</b> 카드를 한 장씩 오픈</li>
      <li><b>FLIP:</b> 카드 정/역 변환</li>
      <li><b>CAPTURE:</b> 선택된 카드를 그림파일로 저장</li>
      <li><b>리딩요청문 만들기:</b> 뽑은 카드를 텍스트로 정리</li>
    </ul>

    <h2>✨ 기타 기능</h2>
    <ul>
      <li>DRAW ALL: 원클릭 오픈</li>
      <li>New Spread: 전부 리셋</li>
      <li>실물카드리딩: 실제 카드 뽑기 + 리딩 (오픈 예정)</li>
    </ul>
  </section>
<!-- 원하는 위치에 추가 -->
<div style="text-align: center; margin-top: 40px;">
  <button id="installBtnAlways">📲 TAROZON 다시 설치하기</button>
</div>

  <footer>
    © 2025 타로존 TaroZon.com
  </footer>

  <!-- 오른쪽 클릭 방지 -->
  <script>
    document.addEventListener('contextmenu', event => event.preventDefault());
  </script>

  <!-- 단축키 방지 -->
  <script>
    document.addEventListener('keydown', function (e) {
      if (
        e.ctrlKey && (e.key === 'u' || e.key === 's' || e.key === 'c') ||
        e.key === 'F12' ||
        (e.ctrlKey && e.shiftKey && e.key === 'I')
      ) {
        e.preventDefault();
      }
    });
  </script>

  <script>
    window.addEventListener("DOMContentLoaded", () => {
    if (!localStorage.getItem("visitedTarozon")) {
      alert("📌 이 메세지창은 첫 방문시에만 노출됩니다!\n\n🍎 iOS 사용자시라면 하단의 [공유 버튼(□↑)] → [홈 화면에 추가]를 눌러주세요!");
      localStorage.setItem("visitedTarozon", "true");
    }
      const ua = window.navigator.userAgent.toLowerCase();
      const isIOS = /iphone|ipad|ipod/.test(ua);
      const isAndroid = /android/.test(ua);
      const isInStandaloneMode = ('standalone' in window.navigator) && window.navigator.standalone;
      let deferredPrompt;

      const installBtn = document.getElementById("installBtn");

      window.addEventListener('beforeinstallprompt', (e) => {
        e.preventDefault();
        deferredPrompt = e;
        if (!isIOS) {
          installBtn.style.display = "inline-block";
        }
      });

      if (isIOS && !isInStandaloneMode) {
        installBtn.style.display = "inline-block";
      }

      installBtn.addEventListener("click", async () => {
        if (isIOS) {
          alert("🍎 iOS 사용자시라면 하단의 [공유 버튼(□↑)] → [홈 화면에 추가]를 눌러주세요!");
        } else if (deferredPrompt) {
          deferredPrompt.prompt();
          const { outcome } = await deferredPrompt.userChoice;
          if (outcome === "accepted") {
            console.log("설치 완료!");
          }
          deferredPrompt = null;
        } else {
          alert("이 브라우저에서는 설치가 지원되지 않거나 이미 설치된 상태입니다!");
        }
      });
    });
  </script>

  <!-- 기존 스크립트들 아래 아무 데나 추가 -->
<script>
  const installBtnAlways = document.getElementById("installBtnAlways");

  installBtnAlways.addEventListener("click", async () => {
    const ua = window.navigator.userAgent.toLowerCase();
    const isIOS = /iphone|ipad|ipod/.test(ua);
    const isAndroid = /android/.test(ua);
    const isInStandaloneMode = ('standalone' in window.navigator) && window.navigator.standalone;

    if (isIOS) {
      alert("🍎 iOS 사용자는 하단의 [공유 버튼(□↑)] → [홈 화면에 추가]를 눌러주세요!");
    } else if (window.deferredPrompt) {
      window.deferredPrompt.prompt();
      const { outcome } = await window.deferredPrompt.userChoice;
      if (outcome === "accepted") {
        console.log("설치 완료!");
      }
      window.deferredPrompt = null;
    } else {
      alert("이미 설치되었거나 설치가 지원되지 않는 환경이에요 🙇‍♀️");
    }
  });
</script>

</body>
</html>
